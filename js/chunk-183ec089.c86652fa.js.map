{"version":3,"sources":["webpack:///./src/views/orders/new.vue?07d2","webpack:///src/views/orders/new.vue","webpack:///./src/views/orders/new.vue?33b7","webpack:///./src/views/orders/new.vue","webpack:///./src/assets/js/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","staticClass","_v","proxy","ref","on","$event","preventDefault","submit","attrs","model","value","info","callback","$$v","$set","expression","_n","search","type","indexOf","_k","keyCode","loading","users","_e","_l","user","id","_s","undefined","length","countries","states","cities","staticRenderFns","component","showToast","title","bodyMessage","vm","$bvToast","toast","variant","solid","toaster","autoHideDelay","removeEmptyProperties","theobj","Object","entries","resetProperties","imgUpload","receviedfile","resault","reader","FileReader","onload","e","onerror","error","alert","readAsDataURL","module","exports"],"mappings":"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","file":"js/chunk-183ec089.c86652fa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h2',{staticClass:\"mb-0\"},[_vm._v(\"New Order\")])]},proxy:true}])},[_c('b-card-body',[_c('b-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit()}}},[_c('b-row',[_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Title\")]),_c('b-input',{attrs:{\"placeholder\":\"Title\",\"required\":\"\"},model:{value:(_vm.info.title),callback:function ($$v) {_vm.$set(_vm.info, \"title\", $$v)},expression:\"info.title\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Price\")]),_c('b-input',{attrs:{\"placeholder\":\"Price\",\"required\":\"\"},model:{value:(_vm.info.price),callback:function ($$v) {_vm.$set(_vm.info, \"price\", _vm._n($$v))},expression:\"info.price\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Description\")]),_c('b-textarea',{attrs:{\"placeholder\":\"Description\",\"required\":\"\"},model:{value:(_vm.info.description),callback:function ($$v) {_vm.$set(_vm.info, \"description\", $$v)},expression:\"info.description\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"User\")]),_c('b-input-group',{staticClass:\"mb-3\",scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('b-input-group',{attrs:{\"variant\":\"primary\"}},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.search()}}},[_c('CIcon',{attrs:{\"name\":\"cil-search\"}})],1)],1)]},proxy:true}])},[_c('b-form-input',{attrs:{\"placeholder\":\"Search user by email\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search()}},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}})],1),(!_vm.loading.users)?_c('b-form-select',{attrs:{\"required\":\"\"},model:{value:(_vm.info.user_id),callback:function ($$v) {_vm.$set(_vm.info, \"user_id\", $$v)},expression:\"info.user_id\"}},[_vm._l((_vm.users),function(user){return _c('b-form-select-option',{key:user.id,attrs:{\"value\":user.id}},[_vm._v(_vm._s(((user.first_name) + \" \" + (user.last_name))))])}),_c('b-form-select-option',{attrs:{\"value\":undefined,\"hidden\":\"\"}},[_vm._v(\"Select User (\"+_vm._s(_vm.users.length)+\")\")])],2):_vm._e(),(_vm.loading.users)?_c('div',{staticClass:\"text-center\"},[_c('b-spinner',{attrs:{\"type\":\"grow\",\"variant\":\"primary\"}})],1):_vm._e()],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Quantity\")]),_c('b-input',{attrs:{\"placeholder\":\"Quantity\",\"required\":\"\"},model:{value:(_vm.info.quantity),callback:function ($$v) {_vm.$set(_vm.info, \"quantity\", $$v)},expression:\"info.quantity\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Image\")]),_c('b-form-file',{ref:\"image\",attrs:{\"accept\":\"image/*\",\"placeholder\":\"Select Image\"},model:{value:(_vm.info.image_path),callback:function ($$v) {_vm.$set(_vm.info, \"image_path\", $$v)},expression:\"info.image_path\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"First Name\")]),_c('b-input',{attrs:{\"placeholder\":\"First Name\",\"required\":\"\"},model:{value:(_vm.info.first_name),callback:function ($$v) {_vm.$set(_vm.info, \"first_name\", $$v)},expression:\"info.first_name\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Last Name\")]),_c('b-input',{attrs:{\"placeholder\":\"Last Name\",\"required\":\"\"},model:{value:(_vm.info.last_name),callback:function ($$v) {_vm.$set(_vm.info, \"last_name\", $$v)},expression:\"info.last_name\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Address\")]),_c('b-input',{attrs:{\"placeholder\":\"Address\",\"required\":\"\"},model:{value:(_vm.info.address),callback:function ($$v) {_vm.$set(_vm.info, \"address\", $$v)},expression:\"info.address\"}})],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"6\"}},[_c('label',{staticClass:\"pb-1 d-block\"},[_vm._v(\"Phone\")]),_c('b-input',{attrs:{\"placeholder\":\"Phone\",\"required\":\"\",\"type\":\"tel\"},model:{value:(_vm.info.phone),callback:function ($$v) {_vm.$set(_vm.info, \"phone\", _vm._n($$v))},expression:\"info.phone\"}})],1),[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-row',[_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"4\"}},[_c('label',[_vm._v(\"Country\")]),_c('b-form-select',{attrs:{\"required\":\"\",\"options\":_vm.countries,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.info.country_id),callback:function ($$v) {_vm.$set(_vm.info, \"country_id\", $$v)},expression:\"info.country_id\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"Select Country\")])],1)],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"4\"}},[_c('label',[_vm._v(\"States\")]),_c('b-form-select',{attrs:{\"required\":\"\",\"disabled\":_vm.states.length < 1,\"options\":_vm.states,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.info.state_id),callback:function ($$v) {_vm.$set(_vm.info, \"state_id\", $$v)},expression:\"info.state_id\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"Select State\")])],1)],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"4\"}},[_c('label',[_vm._v(\"States\")]),_c('b-form-select',{attrs:{\"disabled\":_vm.cities.length < 1,\"options\":_vm.cities,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.info.city_id),callback:function ($$v) {_vm.$set(_vm.info, \"city_id\", $$v)},expression:\"info.city_id\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"Select City\")])],1)],1)],1)],1)],_c('div',{staticClass:\"d-flex w-100\"},[_c('b-button',{staticClass:\"w-25 mt-3 ml-auto mr-3\",attrs:{\"variant\":\"success\",\"disabled\":_vm.loading.submit,\"type\":\"submit\"}},[(!_vm.loading.submit)?_c('span',[_vm._v(\"Submit\")]):_vm._e(),(_vm.loading.submit)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e()],1)],1)],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <b-card >\n            <template #header>\n                <h2 class=\"mb-0\">New Order</h2>\n\n            </template>\n            <b-card-body>\n                <b-form ref=\"form\" @submit.prevent=\"submit()\">\n                    <b-row>\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Title</label>\n                            <b-input placeholder=\"Title\" required v-model=\"info.title\"></b-input>\n                        </b-col>\n                        \n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Price</label>\n                            <b-input placeholder=\"Price\" required v-model.number=\"info.price\"></b-input>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Description</label>\n                            <b-textarea placeholder=\"Description\" required v-model=\"info.description\"></b-textarea>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">User</label>\n\n                            <b-input-group class=\"mb-3\">\n                                <template #append>\n                                    <b-input-group variant=\"primary\" >\n                                    <b-button  variant=\"primary\" @click=\"search()\">\n                                        <CIcon name=\"cil-search\" />\n                                    </b-button>\n                                    </b-input-group>\n                                </template>\n\n                                <b-form-input placeholder=\"Search user by email\" v-model.lazy=\"key\"  v-on:keyup.enter=\"search()\"></b-form-input>\n                            </b-input-group>\n                            <b-form-select v-if=\"!loading.users\" v-model=\"info.user_id\" required>\n                                <!--i do this way of loop to display first name and last name of user-->\n                                <b-form-select-option v-for=\"user in users\"  :key=\"user.id\" :value=\"user.id\">{{`${user.first_name} ${user.last_name}`}}</b-form-select-option>\n                                <b-form-select-option :value=\"undefined\" hidden>Select User ({{users.length}})</b-form-select-option>\n                            </b-form-select>\n                            <div v-if=\"loading.users\" class=\"text-center\">\n                                <b-spinner type=\"grow\" variant=\"primary\"></b-spinner>\n                            </div>\n                        </b-col>\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Quantity</label>\n                            <b-input placeholder=\"Quantity\" required v-model=\"info.quantity\"></b-input>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Image</label>\n                            <b-form-file accept=\"image/*\" ref=\"image\" placeholder=\"Select Image\" v-model=\"info.image_path\" ></b-form-file>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">First Name</label>\n                            <b-input placeholder=\"First Name\" required v-model=\"info.first_name\"></b-input>\n\n                        </b-col>\n                        \n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Last Name</label>\n                            <b-input placeholder=\"Last Name\" required v-model=\"info.last_name\"></b-input>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\">Address</label>\n                            <b-input placeholder=\"Address\" required v-model=\"info.address\"></b-input>\n                        </b-col>\n\n                        <b-col sm=\"6\" class=\"mt-2\">\n                            <label class=\"pb-1 d-block\" >Phone</label>\n                            <b-input placeholder=\"Phone\" required type=\"tel\" v-model.number=\"info.phone\"></b-input>\n                        </b-col>\n\n\n                        <!--countries-->\n                        <template >\n                            <b-col sm=\"12\" >\n                                <b-row>\n                                    <b-col sm=\"4\" class=\"mt-2\">\n                                        <label>Country</label>\n                                        <b-form-select required v-model=\"info.country_id\" :options=\"countries\" text-field=\"name\" value-field=\"id\">\n                                            <b-form-select-option value=\"\">Select Country</b-form-select-option>\n                                        </b-form-select>\n                                    </b-col>\n                        \n                                    <b-col sm=\"4\" class=\"mt-2\">\n                                        <label>States</label>\n                                        <b-form-select required :disabled=\"states.length < 1\" v-model=\"info.state_id\" :options=\"states\"  text-field=\"name\" value-field=\"id\"> \n                                            <b-form-select-option value=\"\">Select State</b-form-select-option>\n                                        </b-form-select>\n                                    </b-col>\n\n                                    <b-col sm=\"4\" class=\"mt-2\">\n                                        <label>States</label>\n                                        <b-form-select  :disabled=\"cities.length < 1\" v-model=\"info.city_id\" :options=\"cities\"  text-field=\"name\" value-field=\"id\"> \n                                            <b-form-select-option value=\"\">Select City</b-form-select-option>\n                                        </b-form-select>\n                                    </b-col>\n                                </b-row>\n                            </b-col>\n                        </template>\n\n                        <div class=\"d-flex w-100\">\n                            <b-button variant=\"success\" :disabled=\"loading.submit\" type=\"submit\" class=\"w-25 mt-3 ml-auto mr-3\">\n                                <span v-if=\"!loading.submit\">Submit</span>\n                                <b-spinner v-if=\"loading.submit\" small type=\"grow\"></b-spinner>\n                            </b-button>\n                        </div>\n                    </b-row>\n                </b-form>\n            </b-card-body>\n            \n        </b-card>\n        \n    </div>\n</template>\n<script>\nimport axios from \"axios\"\n\nimport { resetProperties, showToast } from '@/assets/js/index';\n\nexport default {\n    name:\"AddOrder\",\n    data() {\n        return {\n            info:{\n                country_id:\"\",\n                state_id:\"\",\n                city_id:\"\"\n            },\n            key:\"\",\n            states:[],\n\n            users:[],\n            loading:{\n                submit:false,\n                users:false\n            }\n        }\n    },\n    computed:{\n        countries() {\n            return this.$store.state.countries\n        },\n        // states() {\n        //     return this.$store.state.states\n        // },\n        cities() {false\n            return this.$store.state.cities\n        },\n  \n    },\n    methods:{\n        search() {\n            this.loading.users = true\n            axios.get(`/admin/v1/users/search/${this.key}`).then((res) => {\n                this.loading.users = false\n                this.users = res.data.data\n            })\n            .catch(() => {\n                this.loading.users = false\n            })\n        },\n        getUsers() {\n            axios.get('/admin/v1/users')\n            .then((res) => {\n                this.users = res.data.data\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n        },\n       submit() {\n            // let keys = Object.keys(this.info)\n            // let formData = new FormData();\n            // formData.append(\"image_path\", this.$refs.image.files[0])\n            // for(let i of keys) {\n            //     formData.append(i, this.info[i])\n            // }\n            let orderBody = new FormData();\n            orderBody.append('address', this.info.address)\n            orderBody.append('city_id', this.info.city_id)\n            orderBody.append('country_id', this.info.country_id)\n            orderBody.append('state_id', this.info.state_id)\n            orderBody.append('description', this.info.description)\n            orderBody.append('first_name', this.info.first_name)\n            orderBody.append('last_name', this.info.last_name)\n            orderBody.append('image_path', this.info.image_path)\n            orderBody.append('phone', this.info.phone)\n            orderBody.append('phone_code', this.info.phone_code)\n            orderBody.append('price', this.info.price)\n            orderBody.append('quantity', this.info.quantity)\n            orderBody.append('user_id', this.info.user_id)\n            orderBody.append('title', this.info.title)\n\n            this.loading.submit = true\n            axios.post(`/api/v1/orders`, orderBody)\n            .then(res=>{\n                console.log(res)\n                this.loading.submit = false;\n                showToast('success', 'Success', 'Order has been created successfully!', this)\n                this.info = resetProperties(this.info)\n                this.$refs.form.reset()\n            })\n            .catch(err=>{\n                this.loading.submit = false;\n                for(let error in err.response.data.errors) {\n                    showToast('danger', `${error}`, `${err.response.data.errors[error][0]}`, this)\n                }\n                console.log(err.response)\n            })\n        }\n    },\n    watch:{\n        \"key\":function() {\n            this.search();\n        },\n        'info.country_id': function() {\n            //to prevent this function in reset mode\n            if(this.info.country_id) {\n                //this.$store.dispatch('getStates', this.info.country_id);\n                //get selected country\n                let selectedCountry = this.countries.find(country=>{\n                    return country.id == this.info.country_id\n                })\n                this.info.phone_code = selectedCountry.phonecode\n\n                axios.get(`/api/v1/countries/states/${this.info.country_id}`)\n                .then(res=>{\n                    this.states = res.data.data\n                    console.log(res)\n                })\n            }\n\n        },\n        'info.state_id':function() {\n            //to prevent this function in reset mode\n            if(this.info.state_id) {\n                this.$store.dispatch('getCities', this.info.state_id)\n            }\n        }\n    },\n    mounted() {\n       this.$store.dispatch('getCountries') // to get countries\n       //this.getUsers() // to get users\n\n    }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new.vue?vue&type=template&id=15cd1bbb&\"\nimport script from \"./new.vue?vue&type=script&lang=js&\"\nexport * from \"./new.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n//show toast in functions\nfunction showToast(type, title, bodyMessage,vm) {\n  vm.$bvToast.toast(bodyMessage, {\n    title: `${title}`,\n    variant: type,\n    solid: true,\n    toaster: `b-toaster-top-right`,\n    autoHideDelay:5000\n  })\n}\n\n//empty properites of given object\nfunction removeEmptyProperties(theobj) {\n  for (const [key] of Object.entries(theobj)) {\n      if(theobj[key] == '' || theobj[key] == null) {\n          delete theobj[key]\n      }\n  }\n  return theobj\n}\n\nfunction resetProperties(theobj) {\n  for (const [key] of Object.entries(theobj)) {\n      if(key == 'workshops') {\n        theobj[key] = []\n      } else if (key == 'gallery') {\n        theobj[key] = []\n      } else if (key == 'medical_services') {\n        theobj[key] = []\n      } else {\n        theobj[key] = ''\n      }\n  }\n  return theobj\n}\n\nfunction imgUpload(receviedfile) {\n  var reader = new FileReader();\n  var resault \n  reader.onload = function(e) {\n    resault =  e\n  };\n  reader.onerror = function(error) {\n      alert(error);\n  };\n  reader.readAsDataURL(receviedfile);      \n  return resault\n}\n\n//make all orders in one \n\nmodule.exports = {showToast, removeEmptyProperties, imgUpload, resetProperties}"],"sourceRoot":""}