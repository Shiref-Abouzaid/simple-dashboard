{"version":3,"sources":["webpack:///./src/views/Login.vue?c060","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?07ac"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","login","staticStyle","_v","scopedSlots","_u","key","fn","proxy","model","value","info","callback","$$v","$set","expression","loading","_e","name","showError","showWarning","staticRenderFns","component"],"mappings":"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","file":"js/chunk-6c920882.c12fe865.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container bg-light\"},[_c('b-row',{staticClass:\" w-100\"},[_c('b-col',{attrs:{\"sm\":\"4\",\"offset-sm\":\"4\"}},[_c('b-card',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login()}}},[_c('div',{staticClass:\"text-center\"},[_c('img',{staticStyle:{\"height\":\"7rem\"},attrs:{\"src\":\"https://www.twotwoart.com/wp-content/uploads/2021/06/tt-homepage-artists-logos-nick-walker-white.png\"}})]),_c('h1',{staticClass:\"mb-3 h3\"},[_vm._v(\"Login\")]),_c('b-input-group',{staticClass:\"mt-3\",scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('b-input-group-text',[_c('CIcon',{attrs:{\"name\":\"cil-user\"}})],1)]},proxy:true}])},[_c('b-form-input',{attrs:{\"required\":\"\",\"type\":\"email\",\"placeholder\":\"Email\"},model:{value:(_vm.info.email),callback:function ($$v) {_vm.$set(_vm.info, \"email\", $$v)},expression:\"info.email\"}})],1),_c('b-input-group',{staticClass:\"mt-3 mb-2\",scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('b-input-group-text',[_c('CIcon',{attrs:{\"name\":\"cil-lock-locked\"}})],1)]},proxy:true}])},[_c('b-form-input',{attrs:{\"required\":\"\",\"placeholder\":\"Password\",\"type\":\"password\"},model:{value:(_vm.info.password),callback:function ($$v) {_vm.$set(_vm.info, \"password\", $$v)},expression:\"info.password\"}})],1),_c('div',{staticClass:\"d-flex\"},[_c('b-button',{staticClass:\"w-25\",attrs:{\"variant\":\"success\",\"type\":\"submit\"}},[(!_vm.loading.login)?_c('span',[_vm._v(\"Login\")]):_vm._e(),(_vm.loading.login)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e()],1),_c('router-link',{staticClass:\"ml-auto\",attrs:{\"to\":{name:'Forgot Password'}}},[_vm._v(\" Forgort password? \")])],1),_c('b-alert',{staticClass:\"mt-2 mb-0\",attrs:{\"variant\":\"danger\",\"show\":_vm.showError}},[_vm._v(\"Email or password is wrong.\")]),_c('b-alert',{staticClass:\"mt-2 mb-0\",attrs:{\"variant\":\"warning\",\"show\":_vm.showWarning}},[_vm._v(\"Sorry you not allowed!\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"login-container bg-light\">\n        <b-row class=\" w-100\">\n            <b-col sm=\"4\" offset-sm=\"4\">\n                <b-card>\n                    <b-form @submit.prevent=\"login()\"> \n                        <div class=\"text-center\">\n                            <img src=\"https://www.twotwoart.com/wp-content/uploads/2021/06/tt-homepage-artists-logos-nick-walker-white.png\" style=\"height:7rem\"/>\n                        </div>\n                        <h1 class=\"mb-3 h3\">Login</h1>\n                        <b-input-group class=\"mt-3\">\n                            <template #prepend>\n                            <b-input-group-text>\n                                <CIcon name=\"cil-user\"/>\n                            </b-input-group-text>\n                            </template>\n                            <b-form-input v-model=\"info.email\" required  type=\"email\" placeholder=\"Email\"></b-form-input>\n                        </b-input-group>\n\n                        <b-input-group class=\"mt-3 mb-2\">\n                            <template #prepend>\n                            <b-input-group-text>\n                                <CIcon name=\"cil-lock-locked\"/>\n                            </b-input-group-text>\n                            </template>\n                            <b-form-input v-model=\"info.password\" required  placeholder=\"Password\" type=\"password\" ></b-form-input>\n                        </b-input-group>\n                        \n                        <!-- <b-input v-model=\"info.email\" required  type=\"email\" placeholder=\"Email\" size=\"lg\" class=\"mb-2\"></b-input> -->\n                        <!-- <b-input v-model=\"info.password\" required  placeholder=\"Password\" size=\"lg\" type=\"password\" class=\"mb-2\"></b-input> -->\n                        <div class=\"d-flex\">\n                            <b-button variant=\"success\"  type=\"submit\" class=\"w-25\">\n                                <span v-if=\"!loading.login\">Login</span>\n                                <b-spinner v-if=\"loading.login\" small type=\"grow\"></b-spinner>\n                            </b-button>\n                            <router-link class=\"ml-auto\" :to=\"{name:'Forgot Password'}\">\n                                Forgort password?\n                            </router-link>\n                        </div>\n                        <b-alert class=\"mt-2 mb-0\" variant=\"danger\" :show=\"showError\">Email or password is wrong.</b-alert>\n                        <b-alert class=\"mt-2 mb-0\" variant=\"warning\" :show=\"showWarning\">Sorry you not allowed!</b-alert>\n                    </b-form>\n\n                </b-card>\n            </b-col>\n        </b-row>\n\n    </div>\n</template>\n<script>\nimport axios from \"axios\"\nexport default {\n    name:\"login\",\n    data() {\n        return {\n            loading:{\n                login:false\n            },\n            showError:false,\n            showWarning:false,\n            info:{\n                email:\"\",\n                password:\"\"\n            }\n        }\n    },\n    methods:{\n        login() {\n            this.loading.login = true;\n            this.showError = false;\n            this.showWarning = false;\n            axios.post(\"/api/v1/login\", this.info)\n            .then(res=>{\n                this.loading.login = false;\n                console.log(res)\n\n                //set token\n                if(res.data.role.length > 0 && res.data.role[0].name == 'admin') {\n                    localStorage.setItem(\"token\", res.data.access_token)\n                    localStorage.setItem(\"user_details\",  JSON.stringify(res.data.user))\n                    localStorage.setItem('user_id', res.data.user.id)\n                    this.$router.go();\n                } else {\n                    this.showWarning = true;\n\n                }\n                //this.$router.push({name:\"Orders\", query:{page:\"1\"}})\n                \n            })\n            .catch(err=>{\n                console.log(err.response)\n                this.loading.login = false;\n                if(err.response.data.code == 401) {\n                    this.showError = true\n                }\n\n            })\n        }\n    },\n    mounted() {\n        if(localStorage.getItem(\"token\")) {\n            this.$router.push({name:'Dashboard'})\n        }\n    }\n\n}\n</script>\n<style scoped>\n.login-container{\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n} \n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7e5f78fe&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7e5f78fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e5f78fe\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=7e5f78fe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=7e5f78fe&scoped=true&lang=css&\""],"sourceRoot":""}