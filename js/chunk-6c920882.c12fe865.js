(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c920882"],{"0a85":function(t,o,a){},a55b:function(t,o,a){"use strict";a.r(o);var s=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"login-container bg-light"},[a("b-row",{staticClass:" w-100"},[a("b-col",{attrs:{sm:"4","offset-sm":"4"}},[a("b-card",[a("b-form",{on:{submit:function(o){return o.preventDefault(),t.login()}}},[a("div",{staticClass:"text-center"},[a("img",{staticStyle:{height:"7rem"},attrs:{src:"https://www.twotwoart.com/wp-content/uploads/2021/06/tt-homepage-artists-logos-nick-walker-white.png"}})]),a("h1",{staticClass:"mb-3 h3"},[t._v("Login")]),a("b-input-group",{staticClass:"mt-3",scopedSlots:t._u([{key:"prepend",fn:function(){return[a("b-input-group-text",[a("CIcon",{attrs:{name:"cil-user"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{required:"",type:"email",placeholder:"Email"},model:{value:t.info.email,callback:function(o){t.$set(t.info,"email",o)},expression:"info.email"}})],1),a("b-input-group",{staticClass:"mt-3 mb-2",scopedSlots:t._u([{key:"prepend",fn:function(){return[a("b-input-group-text",[a("CIcon",{attrs:{name:"cil-lock-locked"}})],1)]},proxy:!0}])},[a("b-form-input",{attrs:{required:"",placeholder:"Password",type:"password"},model:{value:t.info.password,callback:function(o){t.$set(t.info,"password",o)},expression:"info.password"}})],1),a("div",{staticClass:"d-flex"},[a("b-button",{staticClass:"w-25",attrs:{variant:"success",type:"submit"}},[t.loading.login?t._e():a("span",[t._v("Login")]),t.loading.login?a("b-spinner",{attrs:{small:"",type:"grow"}}):t._e()],1),a("router-link",{staticClass:"ml-auto",attrs:{to:{name:"Forgot Password"}}},[t._v(" Forgort password? ")])],1),a("b-alert",{staticClass:"mt-2 mb-0",attrs:{variant:"danger",show:t.showError}},[t._v("Email or password is wrong.")]),a("b-alert",{staticClass:"mt-2 mb-0",attrs:{variant:"warning",show:t.showWarning}},[t._v("Sorry you not allowed!")])],1)],1)],1)],1)],1)},n=[],e=a("bc3a"),r=a.n(e),i={name:"login",data:function(){return{loading:{login:!1},showError:!1,showWarning:!1,info:{email:"",password:""}}},methods:{login:function(){var t=this;this.loading.login=!0,this.showError=!1,this.showWarning=!1,r.a.post("/api/v1/login",this.info).then((function(o){t.loading.login=!1,console.log(o),o.data.role.length>0&&"admin"==o.data.role[0].name?(localStorage.setItem("token",o.data.access_token),localStorage.setItem("user_details",JSON.stringify(o.data.user)),localStorage.setItem("user_id",o.data.user.id),t.$router.go()):t.showWarning=!0})).catch((function(o){console.log(o.response),t.loading.login=!1,401==o.response.data.code&&(t.showError=!0)}))}},mounted:function(){localStorage.getItem("token")&&this.$router.push({name:"Dashboard"})}},l=i,c=(a("c315"),a("2877")),u=Object(c["a"])(l,s,n,!1,null,"7e5f78fe",null);o["default"]=u.exports},c315:function(t,o,a){"use strict";var s=a("0a85"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-6c920882.c12fe865.js.map