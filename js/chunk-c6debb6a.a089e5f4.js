(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6debb6a"],{d00c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[s("h2",{staticClass:"mb-0"},[t._v("Edit User")])]},proxy:!0}])},[s("b-card-body",[s("b-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[s("b-row",[s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Role")]),s("b-form-select",{attrs:{options:t.userRoles,"text-field":"text",value:"value"},model:{value:t.info.alias,callback:function(e){t.$set(t.info,"alias",e)},expression:"info.alias"}},[s("b-select-option",{attrs:{hidden:"",value:void 0}})],1)],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("First Name")]),s("b-input",{attrs:{placeholder:"First Name",required:""},model:{value:t.info.first_name,callback:function(e){t.$set(t.info,"first_name",e)},expression:"info.first_name"}})],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Last Name")]),s("b-input",{attrs:{placeholder:"Last Name",required:""},model:{value:t.info.last_name,callback:function(e){t.$set(t.info,"last_name",e)},expression:"info.last_name"}})],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Email")]),s("b-input",{attrs:{placeholder:"Email",required:"",type:"email"},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}})],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Password")]),s("b-input",{attrs:{placeholder:"Password",type:"password"},model:{value:t.info.password,callback:function(e){t.$set(t.info,"password",e)},expression:"info.password"}})],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Confirm Password")]),s("b-input",{attrs:{placeholder:"Confirm Password",type:"password"},model:{value:t.info.password_confirmation,callback:function(e){t.$set(t.info,"password_confirmation",e)},expression:"info.password_confirmation"}})],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"6"}},[s("label",{staticClass:"pb-1 d-block"},[t._v("Phone")]),s("b-input",{attrs:{placeholder:"Phone",required:"",type:"tel"},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",t._n(e))},expression:"info.phone"}})],1),[s("b-col",{attrs:{sm:"12"}},[s("b-row",[s("b-col",{staticClass:"mt-2",attrs:{sm:"4"}},[s("label",[t._v("Country")]),s("b-form-select",{attrs:{options:t.countries,"text-field":"name","value-field":"id"},model:{value:t.info.country_id,callback:function(e){t.$set(t.info,"country_id",e)},expression:"info.country_id"}},[s("b-form-select-option",{attrs:{value:""}},[t._v("Select Country")])],1)],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"4"}},[s("label",[t._v("States")]),s("b-form-select",{attrs:{disabled:t.states.length<1,options:t.states,"text-field":"name","value-field":"id"},model:{value:t.info.state_id,callback:function(e){t.$set(t.info,"state_id",e)},expression:"info.state_id"}},[s("b-form-select-option",{attrs:{value:""}},[t._v("Select State")])],1)],1),s("b-col",{staticClass:"mt-2",attrs:{sm:"4"}},[s("label",[t._v("States")]),s("b-form-select",{attrs:{disabled:t.cities.length<1,options:t.cities,"text-field":"name","value-field":"id"},model:{value:t.info.city_id,callback:function(e){t.$set(t.info,"city_id",e)},expression:"info.city_id"}},[s("b-form-select-option",{attrs:{value:""}},[t._v("Select City")])],1)],1)],1)],1)],s("div",{staticClass:"d-flex w-100"},[s("b-button",{staticClass:"w-25 mt-3 ml-auto mr-3",attrs:{variant:"success",disabled:t.loading.submit,type:"submit"}},[t.loading.submit?t._e():s("span",[t._v("Submit")]),t.loading.submit?s("b-spinner",{attrs:{small:"",type:"grow"}}):t._e()],1)],1)],2)],1)],1)],1)],1)},a=[],o=s("bc3a"),n=s.n(o),r=s("e4b4"),l={name:"edit",data:function(){return{info:{},userRoles:[{text:"Admin",value:1},{text:"Delivery",value:2},{text:"User",value:3}],loading:{submit:!1}}},computed:{countries:function(){return this.$store.state.countries},states:function(){return this.$store.state.states},cities:function(){return this.$store.state.cities}},methods:{submit:function(){var t=this;this.loading.submit=!0;var e={first_name:this.info.first_name,last_name:this.info.last_name,phone:this.info.phone,email:this.info.email,country_id:this.info.country_id,state_id:this.info.state_id,city_id:this.info.city_id};this.info.alias&&(e.alias=this.info.alias),this.info.password_confirmation&&(e.password=this.info.password,e.password_confirmation=this.info.password_confirmation),n.a.put("/admin/v1/users/".concat(this.$route.params.id),e).then((function(e){console.log(e),t.loading.submit=!1,Object(r["showToast"])("success","Success","User has been updated successfully!",t)})).catch((function(e){for(var s in t.loading.submit=!1,e.response.data.errors)Object(r["showToast"])("danger","".concat(s),"".concat(e.response.data.errors[s][0]),t);console.log(e.response)}))}},watch:{"info.country_id":function(){var t=this;if(this.info.country_id){this.$store.dispatch("getStates",this.info.country_id);var e=this.countries.find((function(e){return e.id==t.info.country_id}));this.info.phone_code=e.phonecode}},"info.state_id":function(){this.info.state_id&&this.$store.dispatch("getCities",this.info.state_id)}},mounted:function(){var t=this;this.$store.dispatch("getCountries"),n.a.get("admin/v1/users/".concat(this.$route.params.id)).then((function(e){t.info=e.data.data}))}},c=l,u=s("2877"),d=Object(u["a"])(c,i,a,!1,null,null,null);e["default"]=d.exports},e4b4:function(t,e){function s(t,e){return r(t)||n(t,e)||a(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return o(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],i=!0,a=!1,o=void 0;try{for(var n,r=t[Symbol.iterator]();!(i=(n=r.next()).done);i=!0)if(s.push(n.value),e&&s.length===e)break}catch(l){a=!0,o=l}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw o}}return s}}function r(t){if(Array.isArray(t))return t}function l(t,e,s,i){i.$bvToast.toast(s,{title:"".concat(e),variant:t,solid:!0,toaster:"b-toaster-top-right",autoHideDelay:5e3})}function c(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var a=s(i[e],1),o=a[0];""!=t[o]&&null!=t[o]||delete t[o]}return t}function u(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var a=s(i[e],1),o=a[0];t[o]="workshops"==o||"gallery"==o||"medical_services"==o?[]:""}return t}function d(t){var e,s=new FileReader;return s.onload=function(t){e=t},s.onerror=function(t){alert(t)},s.readAsDataURL(t),e}t.exports={showToast:l,removeEmptyProperties:c,imgUpload:d,resetProperties:u}}}]);
//# sourceMappingURL=chunk-c6debb6a.a089e5f4.js.map