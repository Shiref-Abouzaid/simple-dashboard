{"version":3,"sources":["webpack:///./src/views/staff/admin.vue?5002","webpack:///./src/views/staff/admin.vue?3b89","webpack:///src/views/staff/admin.vue","webpack:///./src/views/staff/admin.vue?4f3b","webpack:///./src/views/staff/admin.vue","webpack:///./src/assets/js/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","$router","push","name","items","fields","loading","main","scopedSlots","_u","key","fn","proxy","row","_s","item","params","id","$bvModal","show","deleteItem","staticRenderFns","data","methods","getData","console","log","res","error","mounted","watch","$route","immediate","handler","route","query","page","activePage","Number","component","showToast","type","title","bodyMessage","vm","$bvToast","toast","variant","solid","toaster","autoHideDelay","removeEmptyProperties","theobj","Object","entries","resetProperties","imgUpload","receviedfile","resault","reader","FileReader","onload","e","onerror","alert","readAsDataURL","module","exports"],"mappings":"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","file":"js/chunk-776a8c9f.4f8dd68e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=style&index=0&id=092cec8a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=style&index=0&id=092cec8a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('div',{staticClass:\"d-flex\"},[_c('h1',[_vm._v(\"Admins \")]),_c('b-button',{staticClass:\"ml-auto mb-auto mt-auto\",attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$router.push({name:'Add User'})}}},[_vm._v(\"Add User\")])],1),_c('b-card',[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.items,\"fields\":_vm.fields,\"busy\":_vm.loading.main},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-danger \"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"primary\",\"type\":\"grow\"}})],1)]},proxy:true},{key:\"cell(name)\",fn:function(row){return [_vm._v(\" \"+_vm._s(((row.item.first_name) + \" \" + (row.item.last_name)))+\" \")]}},{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticClass:\"ml-1 mr-1 small-btn\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$router.push({name:'User Profile', params:{id:row.item.id}})}}},[_vm._v(\"Profile\")]),_c('b-button',{staticClass:\"ml-1 mr-1 small-btn\",attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$router.push({name:'Edit User', params:{id:row.item.id}})}}},[_vm._v(\"Edit\")]),_c('b-button',{staticClass:\"ml-1 mr-1 small-btn\",attrs:{\"variant\":\"danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$bvModal.show((\"\" + (row.item.id)))}}},[_vm._v(\"delete\")]),_c('b-modal',{attrs:{\"id\":(\"\" + (row.item.id)),\"centered\":\"\",\"title\":\"Delete\",\"ok-variant\":\"danger\",\"ok-title\":\"Yes\",\"cancel-title\":\"No\"},on:{\"ok\":function($event){return _vm.deleteItem(row.item.id)}}},[_c('div',[_vm._v(\"Are you sure that you want to delete this?\")])])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-row>\n    <b-col sm=\"12\">\n      <div class=\"d-flex\">\n        <h1>Admins </h1>\n\n        <b-button variant=\"success\" size=\"sm\" class=\"ml-auto mb-auto mt-auto\" @click=\"$router.push({name:'Add User'})\">Add User</b-button>\n      </div>\n      <b-card>\n        <b-table  striped hover :items=\"items\" :fields=\"fields\" :busy=\"loading.main\">\n          <!--loading-->\n          <template #table-busy>\n            <div class=\"text-center text-danger \">\n              <b-spinner class=\"align-middle\" variant=\"primary\" type=\"grow\"></b-spinner>\n            </div>\n          </template>\n\n          <template v-slot:cell(name) = row>\n            {{`${row.item.first_name} ${row.item.last_name}`}}\n          </template>\n\n          <!--actions-->\n          <template v-slot:cell(actions) = row >\n              <b-button variant=\"primary\" size=\"sm\"  class=\"ml-1 mr-1 small-btn\" @click=\"$router.push({name:'User Profile', params:{id:row.item.id}})\">Profile</b-button>\n              <b-button\n                variant=\"success\"\n                size=\"sm\"\n                class=\"ml-1 mr-1 small-btn\"\n                @click=\"$router.push({name:'Edit User', params:{id:row.item.id}})\"\n                >Edit</b-button>\n              <b-button variant=\"danger\" size=\"sm\" class=\"ml-1 mr-1 small-btn\"  @click=\"$bvModal.show(`${row.item.id}`)\">delete</b-button>\n              <b-modal :id=\"`${row.item.id}`\" centered title=\"Delete\" ok-variant=\"danger\" ok-title=\"Yes\" cancel-title=\"No\" @ok=\"deleteItem(row.item.id)\">\n                <div>Are you sure that you want to delete this?</div>\n\n              </b-modal>\n          </template>\n\n        </b-table>\n\n      </b-card>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\n\nimport axios from \"axios\"\nimport {showToast } from '@/assets/js/index';\nexport default {\n  name: 'admin',\n  data () {\n    return {\n      loading:{\n        main:false,\n      },\n      fields:[\n        {key:\"name\", label:\"Name\"},\n\n        {key:\"email\"},\n \n        {key:\"location\", label: 'Location'},\n        { key: \"actions\", label: \"Actions\" }\n      ],\n      items: [],\n\n    }\n  },\n  methods:{\n    getData() {\n      this.loading.main = true\n      axios.get('/admin/v1/roles?role=admin')\n      .then((res) => {\n        this.loading.main = false;\n        console.log(res)\n        this.items = res.data.data[0].user\n      })\n      .catch((error) => {\n        this.loading.main = false;\n        console.error(error)\n      })\n\n    },\n    deleteItem(id){\n      axios.delete(`/admin/v1/roles/${id}`)\n      .then(()=>{\n        showToast(\"success\", \"Success\", \"Item deleted successfully!\", this)\n        //remove deleted item\n        this.items = this.items.filter(item=>{\n          return item.id != id\n        })\n      })\n      .catch(err=>{\n          this.loading.submit = false;\n          for(let error in err.response.data.errors) {\n              showToast('danger', `${error}`, `${err.response.data.errors[error][0]}`, this)\n          }\n          console.log(err.response)\n      })\n    }\n  },\n  mounted() {\n    this.getData();\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler (route) {\n        if (route.query && route.query.page) {\n          this.activePage = Number(route.query.page)\n        }\n      }\n    }\n  },\n\n}\n</script>\n<style scoped>\n.small-btn {\n  width: 4rem!important;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./admin.vue?vue&type=template&id=092cec8a&scoped=true&\"\nimport script from \"./admin.vue?vue&type=script&lang=js&\"\nexport * from \"./admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./admin.vue?vue&type=style&index=0&id=092cec8a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"092cec8a\",\n  null\n  \n)\n\nexport default component.exports","\n//show toast in functions\nfunction showToast(type, title, bodyMessage,vm) {\n  vm.$bvToast.toast(bodyMessage, {\n    title: `${title}`,\n    variant: type,\n    solid: true,\n    toaster: `b-toaster-top-right`,\n    autoHideDelay:5000\n  })\n}\n\n//empty properites of given object\nfunction removeEmptyProperties(theobj) {\n  for (const [key] of Object.entries(theobj)) {\n      if(theobj[key] == '' || theobj[key] == null) {\n          delete theobj[key]\n      }\n  }\n  return theobj\n}\n\nfunction resetProperties(theobj) {\n  for (const [key] of Object.entries(theobj)) {\n      if(key == 'workshops') {\n        theobj[key] = []\n      } else if (key == 'gallery') {\n        theobj[key] = []\n      } else if (key == 'medical_services') {\n        theobj[key] = []\n      } else {\n        theobj[key] = ''\n      }\n  }\n  return theobj\n}\n\nfunction imgUpload(receviedfile) {\n  var reader = new FileReader();\n  var resault \n  reader.onload = function(e) {\n    resault =  e\n  };\n  reader.onerror = function(error) {\n      alert(error);\n  };\n  reader.readAsDataURL(receviedfile);      \n  return resault\n}\n\n//make all orders in one \n\nmodule.exports = {showToast, removeEmptyProperties, imgUpload, resetProperties}"],"sourceRoot":""}