(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ec7aab1"],{"48c3":function(t,e,i){},"59e7":function(t,e,i){"use strict";var s=i("48c3"),n=i.n(s);n.a},e4b4:function(t,e){function i(t,e){return o(t)||r(t,e)||n(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done);s=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){n=!0,a=c}finally{try{s||null==o["return"]||o["return"]()}finally{if(n)throw a}}return i}}function o(t){if(Array.isArray(t))return t}function c(t,e,i,s){s.$bvToast.toast(i,{title:"".concat(e),variant:t,solid:!0,toaster:"b-toaster-top-right",autoHideDelay:5e3})}function l(t){for(var e=0,s=Object.entries(t);e<s.length;e++){var n=i(s[e],1),a=n[0];""!=t[a]&&null!=t[a]||delete t[a]}return t}function u(t){for(var e=0,s=Object.entries(t);e<s.length;e++){var n=i(s[e],1),a=n[0];t[a]="workshops"==a||"gallery"==a||"medical_services"==a?[]:""}return t}function d(t){var e,i=new FileReader;return i.onload=function(t){e=t},i.onerror=function(t){alert(t)},i.readAsDataURL(t),e}t.exports={showToast:c,removeEmptyProperties:l,imgUpload:d,resetProperties:u}},e65b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h2",{staticClass:"mb-0"},[t._v("Edit Order")])]},proxy:!0}])},[t.loading.main?i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"10rem",height:"10rem"},attrs:{variant:"primary"}})],1):i("b-card-body",[i("b-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[i("b-row",[t.info.image.length>0?i("b-col",{staticClass:"mt-2",attrs:{sm:"5"}},[i("b-img",{staticClass:"w-100 mb-3",staticStyle:{height:"12rem","object-fit":"contain"},attrs:{src:t.info.image[0].image_path}})],1):t._e(),i("b-col",{staticClass:"mt-2",attrs:{sm:"7"}},[i("div",{staticClass:"mb-2"},[i("label",{staticClass:"d-block"},[t._v("Title")]),i("b-input",{attrs:{placeholder:"Title",required:""},model:{value:t.info.title,callback:function(e){t.$set(t.info,"title",e)},expression:"info.title"}})],1),i("div",{staticClass:"mb-2"},[i("label",{staticClass:"d-block"},[t._v("Price")]),i("b-input",{attrs:{placeholder:"Price",required:""},model:{value:t.info.price,callback:function(e){t.$set(t.info,"price",e)},expression:"info.price"}})],1),i("div",{staticClass:"mb-2"},[i("label",{staticClass:"d-block"},[t._v("Quantity")]),i("b-input",{attrs:{placeholder:"Quantity",required:""},model:{value:t.info.quantity,callback:function(e){t.$set(t.info,"quantity",e)},expression:"info.quantity"}})],1),i("div",{staticClass:"mb-2"},[i("label",{staticClass:"pb-1 d-block"},[t._v("Description")]),i("b-textarea",{attrs:{placeholder:"Description",required:""},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}})],1),i("div",{staticClass:"mb-2"},[i("label",{staticClass:"pb-1 d-block"},[t._v("Status")]),i("b-form-select",{staticClass:"w-100",attrs:{options:t.statusOptions,"text-field":"label","value-field":"value"},on:{change:function(e){return t.changeStatus(t.row.item)}},model:{value:t.info.status,callback:function(e){t.$set(t.info,"status",e)},expression:"info.status"}})],1),i("div",{staticClass:"d-flex w-100"},[i("b-button",{staticClass:"w-25 mt-3 ml-auto mr-3",attrs:{variant:"success",disabled:t.loading.submit,type:"submit"}},[t.loading.submit?t._e():i("span",[t._v("Edit")]),t.loading.submit?i("b-spinner",{attrs:{small:"",type:"grow"}}):t._e()],1)],1)]),t.info.user?i("b-col",{attrs:{sm:"6"}},[i("b-card",{staticClass:"mt-4",scopedSlots:t._u([{key:"header",fn:function(){return[i("h3",[t._v("User Data")])]},proxy:!0}],null,!1,551823215)},[i("b-row",[i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Name: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.info.user.first_name+" "+t.info.user.last_name)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Phone: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s("(+"+t.info.user.phone_code+") "+t.info.user.phone)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Email: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.info.user.email)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Location: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.info.user.country.name+", "+t.info.user.city.name+", "+t.info.user.city.name)+" ")])],1)],1)],1):t._e(),i("b-col",{attrs:{sm:"6"}},[i("b-card",{staticClass:"mt-4",scopedSlots:t._u([{key:"header",fn:function(){return[i("h3",[t._v("Recipient Data")])]},proxy:!0}])},[t._l(t.info.recipient,(function(e){return[i("b-row",{key:e.id},[i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Name: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.first_name+" "+e.last_name)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Phone: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s("(+"+e.phone_code+") "+e.phone)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Address: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.address)+" ")]),i("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Location: ")]),i("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.country.name+", "+e.state.name+", "+e.city.name)+" ")])],1)]}))],2)],1)],1)],1)],1)],1)],1)},n=[],a=i("bc3a"),r=i.n(a),o=i("e4b4"),c={name:"EditOrder",data:function(){return{statusOptions:[{label:"Review",value:"review"},{label:"Pending Payment",value:"pending_payment"},{label:"Processing",value:"processing"},{label:"Shipped",value:"shipped"},{label:"Completed",value:"completed"}],info:{},users:[],loading:{submit:!1,price:!1,main:!0}}},computed:{countries:function(){return this.$store.state.countries},states:function(){return this.$store.state.states},cities:function(){return this.$store.state.cities}},methods:{getUsers:function(){var t=this;r.a.get("/admin/v1/users").then((function(e){t.users=e.data.data})).catch((function(t){console.error(t)}))},submit:function(){var t=this,e=(new FormData,{price:this.info.price,title:this.info.title,quantity:this.info.quantity,description:this.info.description,city_id:this.info.city_id,country_id:this.info.country_id,state_id:this.info.state_id,status:this.info.status,first_name:this.info.recipient[0].first_name,last_name:this.info.recipient[0].last_name,address:this.info.recipient[0].address,phone:this.info.recipient[0].phone});this.loading.submit=!0,r.a.put("/admin/v1/orders/".concat(this.$route.params.id),e).then((function(e){console.log(e),t.loading.submit=!1,Object(o["showToast"])("success","Success","Order has been created successfully!",t)})).catch((function(e){for(var i in t.loading.submit=!1,e.response.data.errors)Object(o["showToast"])("danger","".concat(i),"".concat(e.response.data.errors[i][0]),t);console.log(e.response)}))}},watch:{"info.country_id":function(){var t=this;if(this.info.country_id){this.$store.dispatch("getStates",this.info.country_id);var e=this.countries.find((function(e){return e.id==t.info.country_id}));this.info.phone_code=e.phonecode}},"info.state_id":function(){this.info.state_id&&this.$store.dispatch("getCities",this.info.state_id)}},mounted:function(){var t=this;this.$store.dispatch("getCountries"),this.loading.main=!0,r.a.get("/admin/v1/orders/".concat(this.$route.params.id)).then((function(e){t.loading.main=!1,t.info=e.data.data})).catch((function(){t.loading.main=!1}))}},l=c,u=(i("59e7"),i("2877")),d=Object(u["a"])(l,s,n,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-7ec7aab1.c9b05c1f.js.map