(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d189fc"],{"96f1":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[s("h2",{staticClass:"mb-0"},[t._v("Assign Package")])]},proxy:!0}])},[s("b-card-body",[s("b-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[s("b-row",[s("b-col",{attrs:{sm:"6"}},[t.isQuery?t._e():s("div",[s("label",[t._v("Search Order")]),s("b-input",{attrs:{placeholder:"Search Order"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),t.loading.searchOrders?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{type:"grow"}})],1):t._e(),t.isQuery?t._e():s("div",[s("label",{staticClass:"mt-3"},[t._v("Select Order")]),t.loading.searchOrders?t._e():s("b-form-select",{attrs:{disabled:t.orders.length<1,options:t.orders,"value-field":"id","text-field":"title"},model:{value:t.info.order_id,callback:function(e){t.$set(t.info,"order_id",e)},expression:"info.order_id"}},[s("b-select-option",{attrs:{value:"",hidden:""}},[t._v("Select Order ("+t._s(t.orders.length)+")")])],1)],1),t.loading.selectedOrder?s("div",{staticClass:"text-center pt-4"},[s("b-spinner",{staticStyle:{width:"10rem",height:"10rem"},attrs:{type:"grow"}})],1):t._e(),!t.loading.selectedOrder&&t.details?s("b-card",{staticClass:"mt-3",scopedSlots:t._u([{key:"header",fn:function(){return[s("h2",{staticClass:"mb-0"},[t._v("Order details")])]},proxy:!0}],null,!1,3394851607)},[s("b-row",[s("b-col",{attrs:{sm:"12"}},t._l(t.details.image,(function(e){return s("b-img",{key:e.id,staticClass:"w-100",staticStyle:{"max-height":"25rem","object-fit":"contain"},attrs:{src:e.image_path,title:t.details.title}})})),1),s("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"12"}},[s("b-row",[s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Title: ")]),s("b-col",{staticClass:"h2 mb-0",attrs:{sm:"8"}},[t._v(" "+t._s(t.details.title)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Price: ")]),s("b-col",{staticClass:"h3 mb-0",attrs:{sm:"8"}},[t._v(" "+t._s(t.details.price)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Description: ")]),s("b-col",{attrs:{sm:"8"}},[t._v(" "+t._s(t.details.description)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Status: ")]),s("b-col",{attrs:{sm:"8"}},[s("span",{class:{"text-success":"completed"==t.details.status,"text-info":"processing"==t.details.status,"text-warning":"review"==t.details.status}},[t._v(t._s(t.details.status))])]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Payment Method: ")]),s("b-col",{attrs:{sm:"8"}},[t._v(" "+t._s(t.details.payment_method.title)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"4"}},[t._v(" Created At: ")]),s("b-col",{attrs:{sm:"8"}},[t._v(" "+t._s(t._f("moment")(t.details.created_at,"from","now"))+" ")])],1)],1),s("b-col",{attrs:{sm:"12"}},[s("b-card",{staticClass:"mt-4",scopedSlots:t._u([{key:"header",fn:function(){return[s("h3",[t._v("User Data")])]},proxy:!0}],null,!1,551823215)},[t.details.user?s("b-row",[s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Name: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.details.user.first_name+" "+t.details.user.last_name)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Phone: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s("(+"+t.details.user.phone_code+") "+t.details.user.phone)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Email: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.details.user.email)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Location: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(t.details.user.country.name+", "+t.details.user.state.name+", "+t.details.user.city.name)+" ")])],1):t._e()],1)],1),s("b-col",{attrs:{sm:"12"}},[s("b-card",{staticClass:"mt-4",scopedSlots:t._u([{key:"header",fn:function(){return[s("h3",[t._v("Recipient Data")])]},proxy:!0}],null,!1,317981349)},[t._l(t.details.recipient,(function(e){return[s("b-row",{key:e.id},[s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Name: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.first_name+" "+e.last_name)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Phone: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s("(+"+e.phone_code+") "+e.phone)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Address: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.address)+" ")]),s("b-col",{staticClass:"text-right text-gery",attrs:{sm:"5"}},[t._v(" Location: ")]),s("b-col",{attrs:{sm:"7"}},[t._v(" "+t._s(e.country.name+", "+e.state.name+", "+e.city.name)+" ")])],1)]}))],2)],1)],1)],1):t._e()],1),s("b-col",{attrs:{sm:"6"}},[s("label",[t._v("Driver")]),s("b-form-select",{model:{value:t.info.user_id,callback:function(e){t.$set(t.info,"user_id",e)},expression:"info.user_id"}},[s("b-select-option",{attrs:{hidden:"",value:""}},[t._v("Select Driver")]),t._l(t.deliveries,(function(e){return s("b-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.first_name+" "+e.last_name))])}))],2),s("div",{staticClass:"d-flex w-100"},[s("b-button",{staticClass:"w-25 mt-3 ml-auto mr-3",attrs:{variant:"success",disabled:t.loading.submit,type:"submit"}},[t.loading.submit?t._e():s("span",[t._v("Submit")]),t.loading.submit?s("b-spinner",{attrs:{small:"",type:"grow"}}):t._e()],1)],1)],1)],1)],1)],1)],1)},a=[],i=s("bc3a"),o=s.n(i),n=s("e4b4"),l={name:"NewPackge",data:function(){return{info:{origin_latitude:26.8206,origin_longitude:30.8025,user_id:"",order_id:"",status:"enroute"},key:"",orders:[],deliveries:[],details:"",loading:{submit:!1,users:!1,searchOrders:!1,selectedOrder:!1}}},computed:{isQuery:function(){return!!this.$route.query.orderId}},methods:{submit:function(){for(var t=this,e=Object.keys(this.info),s=new FormData,r=0,a=e;r<a.length;r++){var i=a[r];s.append(i,this.info[i])}this.loading.submit=!0,o.a.post("/admin/v1/packages",this.info).then((function(e){t.loading.submit=!1,Object(n["showToast"])("success","Success","Packge has been created",t)})).catch((function(e){for(var s in t.loading.submit=!1,e.response.data.errors)Object(n["showToast"])("danger","".concat(s),"".concat(e.response.data.errors[s][0]),t);console.log(e.response)}))},getDelivaries:function(){var t=this;o.a.get("/admin/v1/roles?role=delivery").then((function(e){t.deliveries=e.data.data[0].user})).catch((function(t){console.error(t)}))}},mounted:function(){this.getDelivaries(),this.$route.query.orderId&&(this.info.order_id=this.$route.query.orderId)},watch:{key:function(){var t=this;this.loading.searchOrders=!0,o.a.get("/admin/v1/orders/search/".concat(this.key)).then((function(e){t.orders=e.data.data,t.loading.searchOrders=!1})).catch((function(e){t.loading.searchOrders=!1}))},"info.order_id":function(){var t=this;this.loading.selectedOrder=!0,o.a.get("admin/v1/orders/".concat(this.info.order_id)).then((function(e){t.loading.selectedOrder=!1,t.details=e.data.data})).catch((function(){t.loading.selectedOrder=!1}))}}},c=l,d=s("2877"),u=Object(d["a"])(c,r,a,!1,null,null,null);e["default"]=u.exports},e4b4:function(t,e){function s(t,e){return n(t)||o(t,e)||a(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return i(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],r=!0,a=!1,i=void 0;try{for(var o,n=t[Symbol.iterator]();!(r=(o=n.next()).done);r=!0)if(s.push(o.value),e&&s.length===e)break}catch(l){a=!0,i=l}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return s}}function n(t){if(Array.isArray(t))return t}function l(t,e,s,r){r.$bvToast.toast(s,{title:"".concat(e),variant:t,solid:!0,toaster:"b-toaster-top-right",autoHideDelay:5e3})}function c(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var a=s(r[e],1),i=a[0];""!=t[i]&&null!=t[i]||delete t[i]}return t}function d(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var a=s(r[e],1),i=a[0];t[i]="workshops"==i||"gallery"==i||"medical_services"==i?[]:""}return t}function u(t){var e,s=new FileReader;return s.onload=function(t){e=t},s.onerror=function(t){alert(t)},s.readAsDataURL(t),e}t.exports={showToast:l,removeEmptyProperties:c,imgUpload:u,resetProperties:d}}}]);
//# sourceMappingURL=chunk-10d189fc.0a08a04d.js.map