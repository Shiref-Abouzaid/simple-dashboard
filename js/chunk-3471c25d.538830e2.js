(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3471c25d"],{"73d5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("div",{staticClass:"d-flex"},[n("h1",[t._v("Packges")]),n("b-button",{staticClass:"ml-auto mb-auto mt-auto",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.$router.push({name:"Create Packge"})}}},[t._v("Assign Package")])],1),n("b-card",[n("b-table",{attrs:{striped:"",hover:"",items:t.items.data,fields:t.fields,busy:t.loading.main},scopedSlots:t._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger "},[n("b-spinner",{staticClass:"align-middle",attrs:{variant:"primary",type:"grow"}})],1)]},proxy:!0},{key:"cell(order)",fn:function(e){return[e.item.order?n("router-link",{staticStyle:{color:"#212529"},attrs:{to:{name:"Edit Order",params:{id:e.item.order.id}}}},[t._v(t._s(e.item.order.title))]):t._e()]}},{key:"cell(user)",fn:function(e){return[e.item.user?n("span",[t._v(t._s(e.item.user.first_name+" "+e.item.user.last_name))]):t._e()]}},{key:"cell(status)",fn:function(e){return[n("b-form-select",{staticClass:"w-auto",attrs:{size:"sm",options:t.statusOptions},on:{change:function(n){return t.changeStatus(e.item)}},model:{value:e.item.status,callback:function(n){t.$set(e.item,"status",n)},expression:"row.item.status"}})]}},{key:"cell(created_at)",fn:function(e){return[n("span",[t._v(t._s(t._f("moment")(e.item.created_at,"from","now")))])]}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"ml-1 mr-1 small-btn",attrs:{variant:"success",size:"sm"},on:{click:function(n){return t.$router.push({name:"Edit Packge",params:{id:e.item.id}})}}},[t._v("Edit")]),n("b-button",{staticClass:"ml-1 mr-1 small-btn",attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.$bvModal.show(""+e.item.id)}}},[t._v("delete")]),n("b-modal",{attrs:{id:""+e.item.id,centered:"",title:"Delete","ok-variant":"danger","ok-title":"Yes","cancel-title":"No"},on:{ok:function(n){return t.deleteItem(e.item.id)}}},[n("div",[t._v("Are you sure that you want to delete this?")])])]}}])}),n("div",{staticClass:"overflow-auto d-flex"},[n("b-pagination-nav",{staticClass:"m-auto",attrs:{"link-gen":t.linkGen,"number-of-pages":t.items.last_page,"use-router":""},on:{change:function(e){return t.getData(t.$route.query.page)}}})],1)],1)],1)],1)},r=[],s=n("bc3a"),o=n.n(s),i=n("a026"),c=n("e4b4");i["default"].use(n("2ead"));var u={name:"packges",data:function(){return{statusOptions:["enroute","delivered"],items:[],fields:[{key:"order",label:"Order Name"},{key:"user",label:"Driver"},{key:"id",label:"ID"},{key:"status",label:"Status"},{key:"created_at",label:"Created At"},{key:"actions",label:"Actions"}],loading:{main:!1}}},methods:{getItems:function(){var t=this;this.loading.main=!0,o.a.get("/admin/v1/packages").then((function(e){t.items=e.data.data,t.loading.main=!1})).catch((function(){t.loading.main=!1}))},linkGen:function(t){return 1===t?"?":"?page=".concat(t)},getData:function(t){var e=this;this.loading.main=!0,o.a.get("admin/v1/packages?page=".concat(t)).then((function(t){e.loading.main=!1,console.log(t.data),e.items=t.data.data})).catch((function(t){e.loading.main=!1,console.error(t)}))},deleteItem:function(t){var e=this;o.a.delete("/admin/v1/packages/".concat(t)).then((function(){Object(c["showToast"])("success","Success","Item deleted successfully!",e),e.items=e.items.filter((function(e){return e.id!=t}))})).catch((function(t){for(var n in t.response.data.errors)Object(c["showToast"])("danger","".concat(n),"".concat(t.response.data.errors[n][0]),e);console.log(t.response)}))},changeStatus:function(t){var e=this;o.a.put("/admin/v1/packages/".concat(t.id),{status:t.status}).then((function(){Object(c["showToast"])("success","Success","item status has been updated successfully to ".concat(t.status),e)})).catch((function(t){for(var n in t.response.data.errors)Object(c["showToast"])("danger","".concat(n),"".concat(t.response.data.errors[n][0]),e)}))}},mounted:function(){this.getItems()}},l=u,d=n("2877"),m=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=m.exports},e4b4:function(t,e){function n(t,e){return i(t)||o(t,e)||r(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0)if(n.push(o.value),e&&n.length===e)break}catch(c){r=!0,s=c}finally{try{a||null==i["return"]||i["return"]()}finally{if(r)throw s}}return n}}function i(t){if(Array.isArray(t))return t}function c(t,e,n,a){a.$bvToast.toast(n,{title:"".concat(e),variant:t,solid:!0,toaster:"b-toaster-top-right",autoHideDelay:5e3})}function u(t){for(var e=0,a=Object.entries(t);e<a.length;e++){var r=n(a[e],1),s=r[0];""!=t[s]&&null!=t[s]||delete t[s]}return t}function l(t){for(var e=0,a=Object.entries(t);e<a.length;e++){var r=n(a[e],1),s=r[0];t[s]="workshops"==s||"gallery"==s||"medical_services"==s?[]:""}return t}function d(t){var e,n=new FileReader;return n.onload=function(t){e=t},n.onerror=function(t){alert(t)},n.readAsDataURL(t),e}t.exports={showToast:c,removeEmptyProperties:u,imgUpload:d,resetProperties:l}}}]);
//# sourceMappingURL=chunk-3471c25d.538830e2.js.map